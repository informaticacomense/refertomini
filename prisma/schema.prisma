model User {
  id             String    @id @default(cuid())
  email          String    @unique
  password       String
  firstName      String
  lastName       String
  teamName       String
  isAdmin        Boolean   @default(false)
  isSuperAdmin   Boolean   @default(false)
  emailVerified  Boolean   @default(false)
  verificationToken String?
  resetToken     String?
  resetTokenExp  DateTime?

  companyId    String?
  company      Company?   @relation(fields: [companyId], references: [id])

  committeeId  String?
  committee    Committee? @relation(fields: [committeeId], references: [id])

  createdAt    DateTime   @default(now())

  games        Game[]     @relation("GameOwners")
  reports      Report[]   @relation("UserReports")   // ðŸ‘ˆ relazione inversa aggiunta
}

model Report {
  id           String   @id @default(cuid())
  gameId       String   @unique
  game         Game     @relation(fields: [gameId], references: [id])
  fileKey      String
  mimeType     String
  uploadedById String
  uploadedBy   User     @relation("UserReports", fields: [uploadedById], references: [id]) // ðŸ‘ˆ collegata qui
  createdAt    DateTime @default(now())
}
